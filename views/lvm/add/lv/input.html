<div id="leftDiv">
    <form action="lv_add.php" method="post">
        <table border="0">
            <tr>
                <p>
                    <td>Name:</td>
                    <td><input type="text" name="name" /></td>
                </p>
            </tr>
            <tr>
                <p>
                    <td>Size in GB:</td>
                    <td>
                        <input id="sizefield" type="text" name="sizefield" value="1" oninput="showValue(this.value)"/>
                    </td>
                    <td>
                        <input id="rangeinput" type="range" min="1" max="<?php echo $freesize[1] ?>" value="1" name="size" step="1" oninput="showValue(this.value); updateTextInput(this.value)"/>
                        <span id="range">1</span>
                    </td>
                </p>
            </tr>
            <tr>
                <td>
                (max <?php echo $freesize[1] ?>G)
                </td>
            </tr>
            <script type="text/javascript">
                function showValue(newValue) {
                    if(newValue <= <?php echo $freesize[1] ?>) {
                        document.getElementById("rangeinput").value=newValue;
                        document.getElementById("range").innerHTML=newValue;
                    } else {
                        alert("Error - The volume group has only <?php echo $freesize[1] ?>G space left");
                        updateTextInput(<?php echo $freesize[1] ?>);
                        document.getElementById("range").innerHTML=<?php echo $freesize[1] ?>;
                    }
                }
                function updateTextInput(newValue) {
                    document.getElementById("sizefield").value=newValue;
                }
            </script>
        </table>
        <br />
        <input type='submit' value='Create'>
    </form>
    <br>
</div>